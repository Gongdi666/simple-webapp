spring:
  datasource:
    # ローカルではデフォルト値、Railway では SPRING_DATASOURCE_* で上書き
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/simplewebapp}
    username: ${SPRING_DATASOURCE_USERNAME:simpleuser}
    password: ${SPRING_DATASOURCE_PASSWORD:simplepass}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update        # 必要に応じて validate に変更
    properties:
      hibernate:
        format_sql: true
        show_sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect  # ★ Dialect 明示

  sql:
    init:
      mode: always             # 本番では data.sql を流さない

logging:
  level:
    org.hibernate.SQL: debug

app:
  jwt:
    # 本番では環境変数 JWT_SECRET / JWT_VALIDITY_MS で上書き
    secret: ${JWT_SECRET:change_this_secret_key_to_32_chars_minimum}
    validity-ms: ${JWT_VALIDITY_MS:3600000}  # 1h

cors:
  # 開発は localhost:5173、本番は Railway から呼ぶフロントのURLを環境変数で入れる
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173}

server:
  port: ${PORT:8080}